{% extends 'layout.html' %}{% block main %}    <div class="page-header">        <h1>            创建        </h1>    </div><!-- /.page-header -->    <div class="row">        <form class="form-horizontal" role="form" id="data_form">            <fieldset>                <div class="form-group" style="margin-left: 190px">                    <!-- Text -->                    <label class="col-sm-2 control-label no-padding-right">Host name&nbsp</label>                    <div class="col-sm-6 tooltip-info" data-rel="tooltip" data-placement="top">                        <select name="host_name" id="host_name" title="环境类型" class="input-sm form-control">                            <option>Select Host</option>                            {% for host in host_list %}                                <option value={{ host.uuid }}>{{ host.name }}</option>                            {% endfor %}                        </select>                    </div>                </div>                <div class="space-16"></div>                <div class="form-group" style="margin-left: 190px">                    <!-- Text -->                    <label class="col-sm-2 control-label no-padding-right">Cluster uuid&nbsp</label>                    <div class="col-sm-6 tooltip-info" data-rel="tooltip" data-placement="top">                        <input name="cluster_uuid" id="cluster_uuid" type="text" placeholder="默认值"                               title="Cluster uuid" value="" class="input-sm form-control" disabled>                    </div>                </div>                <div class="space-16"></div>                <div class="form-group" style="margin-left: 190px">                    <!-- Text -->                    <label class="col-sm-2 control-label no-padding-right">Zone uuid&nbsp</label>                    <div class="col-sm-6 tooltip-info" data-rel="tooltip" data-placement="top">                        <input name="zone_uuid" id="zone_uuid" type="text" placeholder="默认值"                               title="Zone" value="" class="input-sm form-control" disabled>                    </div>                </div>                <div class="space-16"></div>                <div class="form-group" style="margin-left: 190px">                    <!-- Text -->                    <label class="col-sm-2 control-label no-padding-right">应用别名&nbsp</label>                    <div class="col-sm-6 tooltip-info" data-rel="tooltip" data-placement="top">                        <input name="system_alias" id="system_alias" type="text" placeholder="默认值"                               title="应用别名" value="" class="input-sm form-control">                    </div>                </div>                <div class="space-16"></div>                <div class="form-group" style="margin-left: 190px">                    <!-- Text -->                    <label class="col-sm-2 control-label no-padding-right">镜像&nbsp</label>                    <div class="col-sm-6 tooltip-info" data-rel="tooltip" data-placement="top">                        <select name="image" id="image" title="镜像名称" type="text" placeholder="默认值"                                class="input-sm form-control">                            <option>Select Image</option>                            {% for image in image_list %}                                <option value={{ image.uuid }}>{{ image.name }}</option>                            {% endfor %}                        </select>                    </div>                </div>                <div class="space-16"></div>                <div class="form-group" style="margin-left: 190px">                    <!-- Select -->                    <label class="col-sm-2 control-label no-padding-right">环境类型&nbsp</label>                    <div class="col-sm-6 tooltip-info" data-rel="tooltip" data-placement="top">                        <select name="env_type" id="env_type" title="环境类型" class="input-sm form-control">                            <option value="prd">生产</option>                            <option value="uat">UAT</option>                            <option value="sit">测试</option>                            <option value="mit">MIT</option>                        </select>                    </div>                </div>                <div class="space-16"></div>                <div class="form-group" style="margin-left: 190px">                    <!-- Select -->                    <label class="col-sm-2 control-label no-padding-right">资源规格&nbsp</label>                    <div class="col-sm-6 tooltip-info" data-rel="tooltip" data-placement="top">                        <select name="resource_type" id="resource_type" title="资源规格" class="input-sm form-control">                            {#                            <option value="">1 核 + 512MB</option>#}                            <option value="7d07dc180e094eb09defe3e8159d33b7">2 核 + 4 GB</option>                            <option value="ce33975460814f0aa205b49db7f6d744">4 核 + 8 GB</option>                            <option value="67ca74fb09664794af234b8203c68673">8 核 + 16 GB</option>                            {#                            <option value="">8 核 + 32 GB</option>#}                        </select>                    </div>                </div>                <div class="space-16"></div>                <div class="form-group" style="margin-left: 190px">                    <label class="col-sm-2 control-label no-padding-right">创建数量&nbsp</label>                    <div class="col-sm-6 tooltip-info" data-rel="tooltip" data-placement="top">                        <!-- Multiple Checkboxes -->                        <label class="radio">                            <input type="radio" name="optionRadioinline" title="创建数量" value="1" orginline="" checked>1                            台                        </label>                        <label class="radio">                            <input type="radio" name="optionRadioinline" title="创建数量" value="2" orginline="">2 台                        </label>                        <label class="radio">                            <input type="radio" name="optionRadioinline" title="创建数量" value="3" orginline="">3 台                        </label>                    </div>                </div>                <div class="space-32"></div>                <div class="form-group">                    <div class="text-center">                        <button class="btn btn-info" type="button" id="btnSubmit" data-loading-text="Loading...">                            <i class="ace-icon fa fa-check bigger-110"></i>                            提交                        </button>                        <button class="btn" type="reset">                            <i class="ace-icon fa fa-undo bigger-110"></i>                            重置                        </button>                    </div>                </div>            </fieldset>        </form>    </div>{% endblock %}{% block script %}    <script src="/static/js/chosen.jquery.min.js"></script>    <script src="/static/js/jquery.dataTables.min.js"></script>    <script src="/static/js/jquery.dataTables.bootstrap.js"></script>    <script src="/static/js/jquery-ui-1.10.3.full.min.js"></script>    <script src="/static/js/jquery.ui.touch-punch.min.js"></script>    <script src="/static/js/select2.min.js"></script>    <script>        {#        var host_list = {{ host_list }}#}        {#        var refresh = function (arg) {#}        {#            var host_list = "{{ host_list }}";#}        {#            var index = arg#}        {#            var new_hostlist = JSON.parse(host_list);#}        {#            var new_hostlist = eval('(' + host_list + ')');#}        {#            console.log(host_list);#}        {#            $('#cluster_uuid').val(host_list.index.clusterUuid);#}        {#            $('#zone_uuid').val(host_list.index.zoneUuid);#}        {#        };#}        $(function () {            $.ajaxSetup({                beforeSend: function (xhr, settings) {                    xhr.setRequestHeader('X-CSRFtoken', $.cookie('csrftoken'))                }            });            {#            $('#host_name').change(function () {#}            {#                var arg = $('#host_name').val();#}            {#                alert(arg)#}            {#                refresh(arg)#}            {#            });#}            $('#btnSubmit').click(function () {                if (!$('#host_name').val()) {                    alert('主机名称不能为空');                    $('#btnSubmit').removeAttr('disabled');                    return;                }                if (!$('#system_alias').val()) {                    alert('应用别名不能为空');                    $('#btnSubmit').removeAttr('disabled');                    return;                }                if (!$('#image').val()) {                    alert('镜像UUID不能为空');                    $('#btnSubmit').removeAttr('disabled');                    return;                }                {#                if (!$('#env_type').val()) {#}                {#                    alert('环境类型不能为空');#}                {#                    $('#btnSubmit').removeAttr('disabled');#}                {#                    return;#}                {#                }#}                {#                if (!$('#resource_type').val()) {#}                {#                    alert('资源规格不能为空');#}                {#                    $('#btnSubmit').removeAttr('disabled');#}                {#                    return;#}                {#                }#}                $('#btnSubmit').attr('disabled', 'true');                $.ajax({                    url: '/task/create',                    type: 'post',                    dataType: 'json',                    data: $('#data_form').serialize(),                    traditional: true,                    success: function (data) {                        if (data.status) {                            window.location.reload()                        }                        alert(data.message);                        $('#btnSubmit').removeAttr('disabled');                    }                });            });        })    </script>{% endblock %}